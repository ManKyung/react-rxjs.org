(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{154:function(e,t,r){"use strict";r.r(t),r.d(t,"frontMatter",(function(){return s})),r.d(t,"metadata",(function(){return c})),r.d(t,"rightToc",(function(){return i})),r.d(t,"default",(function(){return b}));var n=r(2),a=r(9),o=(r(0),r(171)),s={id:"bind",title:"bind",sidebar_label:"bind"},c={id:"api/core/bind",isDocsHomePage:!1,title:"bind",description:"Creates a hook and its respective shared stream from an observable or factory of observables.",source:"@site/docs/api/core/bind.md",permalink:"/react-rxjs.org/docs/api/core/bind",editUrl:"https://github.com/re-rxjs/react-rxjs.org/tree/master/docs/api/core/bind.md",sidebar_label:"bind",sidebar:"someSidebar",previous:{title:"Basic Todos",permalink:"/react-rxjs.org/docs/tutorial/basic"},next:{title:"shareLatest",permalink:"/react-rxjs.org/docs/api/core/share-latest"}},i=[{value:"Factory Observables overload",id:"factory-observables-overload",children:[]},{value:"Grace time",id:"grace-time",children:[]}],l={rightToc:i};function b(e){var t=e.components,r=Object(a.a)(e,["components"]);return Object(o.b)("wrapper",Object(n.a)({},l,r,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"Creates a hook and its respective shared stream from an observable or factory of observables."),Object(o.b)("hr",null),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-tsx"}),"const [useCounter, counter$] = bind(\n  clicks$.pipe(\n    scan((prev) => prev + 1, 0),\n    startWith(0)\n  )\n);\n\nfunction CounterDisplay() {\n  const counter = useCounter();\n\n  return <div>{counter}</div>;\n}\n")),Object(o.b)("p",null,"Accepts: An Observable."),Object(o.b)("p",null,"Returns ",Object(o.b)("inlineCode",{parentName:"p"},"[1, 2]")),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"A React Hook that yields the latest emitted value of the observable. If the\nObservable doesn't synchronously emit a value upon the first subscription, then\nthe hook will leverage React Suspense while it's waiting for the first value.")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"A ",Object(o.b)("inlineCode",{parentName:"p"},"sharedLatest")," version of the observable. It can be used for composing other\nstreams that depend on it. The shared subscription is closed as soon as there\nare no subscribers to that observable."))),Object(o.b)("h2",{id:"factory-observables-overload"},"Factory Observables overload"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-tsx"}),"const [useStory, getStory$] = bind((storyId: number) =>\n  getStoryWithUpdates$(storyId)\n);\n\nconst Story: React.FC<{ id: number }> = ({ id }) => {\n  const story = useStory(id);\n\n  return (\n    <article>\n      <h1>{story.title}</h1>\n      <p>{story.description}</p>\n    </article>\n  );\n};\n")),Object(o.b)("p",null,"Accepts: A factory function that returns an Observable."),Object(o.b)("p",null,"Returns ",Object(o.b)("inlineCode",{parentName:"p"},"[1, 2]")),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"A React Hook function with the same parameters as the factory function. This hook\nwill yield the latest update from the observable returned from the factory function.\nIf the Observable doesn't synchronously emit a value upon the first subscription, then\nthe hook will leverage React Suspense while it's waiting for the first value.")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"A ",Object(o.b)("inlineCode",{parentName:"p"},"sharedLatest")," version of the observable returned by the factory function. It\ncan be used for composing other streams that depend on it. The shared subscription\nis closed as soon as there are no subscribers to that observable."))),Object(o.b)("h2",{id:"grace-time"},"Grace time"),Object(o.b)("p",null,"Both overloads accept an optional numeric parameter, ",Object(o.b)("inlineCode",{parentName:"p"},"unsubscribeGraceTime")),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-ts"}),"const [useCounter, counter$] = bind(\n  clicks$.pipe(\n    scan((prev) => prev + 1, 0),\n    startWith(0)\n  ),\n  1000\n);\n")),Object(o.b)("p",null,"This sets the delay until the internal subscription can be closed, in\nmilliseconds. It defaults to 200."),Object(o.b)("p",null,"It's meant to handle those cases where React quickly unmounts and remounts\ncomponents between re-renders."))}b.isMDXComponent=!0},171:function(e,t,r){"use strict";r.d(t,"a",(function(){return p})),r.d(t,"b",(function(){return m}));var n=r(0),a=r.n(n);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var l=a.a.createContext({}),b=function(e){var t=a.a.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):c(c({},t),e)),r},p=function(e){var t=b(e.components);return a.a.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.a.createElement(a.a.Fragment,{},t)}},d=a.a.forwardRef((function(e,t){var r=e.components,n=e.mdxType,o=e.originalType,s=e.parentName,l=i(e,["components","mdxType","originalType","parentName"]),p=b(r),d=n,m=p["".concat(s,".").concat(d)]||p[d]||u[d]||o;return r?a.a.createElement(m,c(c({ref:t},l),{},{components:r})):a.a.createElement(m,c({ref:t},l))}));function m(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=r.length,s=new Array(o);s[0]=d;var c={};for(var i in t)hasOwnProperty.call(t,i)&&(c[i]=t[i]);c.originalType=e,c.mdxType="string"==typeof e?e:n,s[1]=c;for(var l=2;l<o;l++)s[l]=r[l];return a.a.createElement.apply(null,s)}return a.a.createElement.apply(null,r)}d.displayName="MDXCreateElement"}}]);